# Simple nginx configuration for SvelteKit recipe app
# This should work better - replace /path/to/your/build/ with actual path

location /rezepte {
    alias /path/to/your/build;
    
    # Handle direct .html recipe URLs (like dampfnudeln.html)
    location ~ ^/rezepte/recipe/([^/]+)\.html$ {
        try_files /recipe/$1.html =404;
    }
    
    # Handle clean recipe URLs (like /dampfnudeln/ or /dampfnudeln)
    location ~ ^/rezepte/recipe/([^/]+)/?$ {
        try_files /recipe/$1.html =404;
    }
    
    # Handle all other requests
    try_files $uri $uri.html $uri/index.html /index.html;
    
    # Ensure proper headers for static assets
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}