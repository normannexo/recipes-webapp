# Nginx configuration for SvelteKit static recipe app
# Replace /path/to/your/build/ with your actual build directory path

location /rezepte/ {
    alias /path/to/your/build/;
    index index.html;
    
    # Handle static assets (_app directory for CSS/JS)
    location /rezepte/_app/ {
        alias /path/to/your/build/_app/;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # Handle recipe pages with clean URLs
    location ~* ^/rezepte/recipe/([^/]+)/?$ {
        alias /path/to/your/build/;
        try_files /recipe/$1.html /recipe/$1/index.html =404;
    }
    
    # Handle root and other pages
    location /rezepte/ {
        alias /path/to/your/build/;
        try_files $uri $uri.html $uri/index.html /index.html;
    }
}

# Alternative simpler approach - if the above doesn't work:
# location /rezepte {
#     alias /path/to/your/build;
#     
#     # Redirect clean URLs to .html files
#     location ~ ^/rezepte/recipe/([^/]+)/?$ {
#         try_files /recipe/$1.html =404;
#     }
#     
#     try_files $uri $uri.html $uri/index.html /index.html;
# }